{"mappings":"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","sources":["helpers.js","eventHandlers.js","model.js","views/view.js","views/d3/charts.js","views/widgetViews.js","views/previewViews.js","controller.js"],"sourcesContent":["export const digikey_API_URL = \"\";\nexport const digikey_API_TOKEN = \"mKbWJYVpAA35ICux8UdIdkQpar4T\";\n\nexport const farnell_API_URL = \"\";\nexport const farnell_API_TOKEN = \"u9u3k9nfnheej5pehb5geb4j\";\n\nexport const mouser_API_URL = \"\";\nexport const mouser_API_TOKEN = \"c122f867-faa9-4c89-94b8-71c5f78a3f41\";\n\n// DIGIKEY //\n// https://api.digikey.com/v1/oauth2/authorize?response_type=code&client_id=qyjteGBFZGIAJyd2bzUhTUB8IWxvQVGb&redirect_uri=https%3A%2F%2Flocalhost%2F\n// Code: E2W1yVpc\n// Client ID:qyjteGBFZGIAJyd2bzUhTUB8IWxvQVGb\n// Client Secret:Iy0j4Guh0fp1LGST\n// api.digikey.com\n// {\n//   \"access_token\": \"mKbWJYVpAA35ICux8UdIdkQpar4T\",\n//   \"refresh_token\": \"oxlnxrh5bGcA2v8oXCy4A2ZJUTlYwSxx\",\n//   \"expires_in\": 1799,\n//   \"refresh_token_expires_in\": 7775999,\n//   \"token_type\": \"Bearer\"\n// }\n\nexport const move = function () {\n  return new Promise((res) => {\n    let i = 0;\n    if (i == 0) {\n      i = 1;\n      const elem = document.getElementById(\"myBar\");\n      let width = 1;\n      let id = setInterval(frame, 10);\n      function frame() {\n        if (width >= 100) {\n          clearInterval(id);\n          i = 0;\n        } else {\n          width++;\n          elem.style.width = width + \"%\";\n        }\n      }\n    }\n    setTimeout(res, 1100);\n  });\n};\n","\"use strict\";\n\nexport const dropZone = document.querySelector(\"#drop_zone\");\nexport const progressBar = document.querySelector(\"#myProgress\");\nexport const progressText = document.querySelector(\"#myBar\");\nexport const queryPreview = document.querySelector(\".query-input-preview\");\nexport const btnUnitarySubmit = document.querySelector(\".btn-submit\");\nexport const inputUnitarySubmit = document.querySelector(\n  \".section-middle-input\"\n);\nexport const btnBrowseFile = document.querySelector(\"#section-middle-getfile\");\n\nexport const highlight = function () {\n  dropZone.classList.add(\"highlight\");\n};\n\nexport const unhighlight = function () {\n  dropZone.classList.remove(\"highlight\");\n};\n","\"use strict\";\nimport * as helpers from \"./helpers.js\";\nimport * as eventHandlers from \"./eventHandlers.js\";\n\nexport const state = {\n  componentInfo: {},\n};\n\nconst createObj = function (data) {\n  let myObject;\n  data.length <= 1\n    ? ({ ...myObject } = { componentData: data })\n    : ({ ...myObject } = { componentData: data.split(\"\\n\").slice(0, -1) });\n  return {\n    partNumber: myObject.componentData,\n  };\n};\n\nexport const collectData = async function (query) {\n  // fetch data\n  const response = fetch(`${helpers.farnell_API_URL}/search?=${query}`);\n  const data = await response.json();\n  console.log(data);\n  // collect data\n  // transform data\n};\n\neventHandlers.btnUnitarySubmit.addEventListener(\n  \"click\",\n  handleUnitarySubmit,\n  false\n);\nfunction handleUnitarySubmit() {\n  if (!eventHandlers.inputUnitarySubmit.value) return;\n  const submittedData = eventHandlers.inputUnitarySubmit.value;\n  eventHandlers.progressBar.style.opacity = 0;\n  eventHandlers.inputUnitarySubmit.value = \"\";\n  state.componentInfo = createObj([submittedData]);\n  eventHandlers.queryPreview.classList.add(\"uploaded\");\n}\n\neventHandlers.dropZone.addEventListener(\"drop\", handleDropImport, false);\nasync function handleDropImport(e) {\n  e.preventDefault();\n\n  if (!e.dataTransfer.items) return;\n  const data = e.dataTransfer.items;\n\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].kind === \"file\") {\n      eventHandlers.progressBar.style.opacity = 1;\n      eventHandlers.progressText.classList.remove(\"uploaded\");\n      eventHandlers.progressText.innerHTML = ``;\n\n      const file = data[i].getAsFile();\n      const reader = new FileReader();\n      reader.onload = function (e) {\n        state.componentInfo = createObj(e.target.result);\n      };\n      reader.readAsText(file);\n      await helpers.move();\n      eventHandlers.queryPreview.classList.add(\"uploaded\");\n      eventHandlers.progressText.classList.add(\"uploaded\");\n      eventHandlers.progressText.innerHTML = `<p>Loaded!</p>`;\n    }\n  }\n}\n\neventHandlers.btnBrowseFile.addEventListener(\"change\", handleFileImport, false);\n\nasync function handleFileImport() {\n  eventHandlers.progressBar.style.opacity = 1;\n  eventHandlers.progressText.classList.remove(\"uploaded\");\n  eventHandlers.progressText.innerHTML = ``;\n\n  const reader = new FileReader();\n  reader.onload = function (e) {\n    state.componentInfo = createObj(e.target.result);\n  };\n  reader.readAsText(this.files[0]);\n  await helpers.move();\n  eventHandlers.queryPreview.classList.add(\"uploaded\");\n  eventHandlers.progressText.classList.add(\"uploaded\");\n  eventHandlers.progressText.innerHTML = `<p>Uploaded!</p>`;\n}\n\n[\"dragenter\", \"dragover\"].forEach((eventName) => {\n  eventHandlers.dropZone.addEventListener(\n    eventName,\n    eventHandlers.highlight,\n    false\n  );\n});\n\n[\"dragleave\", \"drop\"].forEach((eventName) => {\n  eventHandlers.dropZone.addEventListener(\n    eventName,\n    eventHandlers.unhighlight,\n    false\n  );\n});\n\n[\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach((event) => {\n  window.addEventListener(event, preventDefaults, false);\n});\n\nfunction preventDefaults(e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.dataTransfer.effectAllowed = \"All\";\n}\n","export default class View {\n  _data;\n\n  render(data) {\n    this._data = data;\n    const markup = this._generateMarkup();\n    setTimeout(() => {\n      this._clearPreview();\n      this._parentElement.insertAdjacentHTML(\"afterbegin\", markup);\n    }, 700);\n  }\n\n  renderSpinner() {\n    const spinnerAnimation = `<div class=\"loader\"></div>`;\n    this._clearPreview();\n    this._spinnerElement.insertAdjacentHTML(\"afterbegin\", spinnerAnimation);\n    setTimeout(() => {\n      this.clearSpinner();\n    }, 710);\n  }\n\n  _clearPreview() {\n    this._parentElement.innerHTML = \"\";\n  }\n\n  clearSpinner() {\n    this._spinnerElement.innerHTML = \"\";\n  }\n}\n","export const drawWidget = function (data, element) {\n  var svg = d3\n    .select(element)\n    .append(\"svg\")\n    .attr(\"width\", 100)\n    .attr(\"height\", 30);\n\n  var text = svg\n    .selectAll(\"text\")\n    .data(data)\n    .enter()\n    .append(\"text\")\n    .attr(\"x\", 0)\n    .attr(\"y\", 19)\n    .style(\"fill\", \"black\")\n    .text(function (d) {\n      return d;\n    });\n};\n","import View from \"./view.js\";\nimport { drawWidget } from \"./d3/charts.js\";\n\nclass WidgetView extends View {\n  _btnSubmit = document.querySelector(\".btn-submit\");\n  _parentElement = document.querySelector(\".section-middle-widgets\");\n  _parentElementId = document.querySelector(\".section-widgets-siren\");\n  _parentElementSize = document.querySelector(\".section-widgets-size\");\n  _parentElementYear = document.querySelector(\".section-widgets-year\");\n\n  _generateSVGmarkup() {\n    const id = new Array(this._data.id);\n    const size = new Array(this._data.size);\n    const year = new Array(this._data.year);\n    const cat = new Array(this._data.cat);\n\n    this._clear();\n    drawWidget(id, this._parentElementId);\n    drawWidget(size, this._parentElementSize);\n    drawWidget(cat, this._parentElementYear);\n  }\n\n  _clear() {\n    this._parentElement\n      .querySelectorAll(\".widget\")\n      .forEach((e) => (e.textContent = \"\"));\n  }\n\n  addHandlerRender(handler) {\n    this._btnSubmit.addEventListener(\"click\", function (e) {\n      e.preventDefault();\n      handler();\n    });\n  }\n\n  // _generateMarkup() {\n  //   return `<p>${this._data.categorieEntreprise}</p>`;\n  // }\n}\n\nexport default new WidgetView();\n","\"use strict\";\nimport View from \"./view.js\";\n\nclass previewViews extends View {\n  _parentElement = document.querySelector(\".query-input-preview\");\n  _previewElement = document.querySelector(\".section-middle-dropzone-output\");\n  _spinnerElement = document.querySelector(\".loader-spinner\");\n\n  _prettyString() {\n    let resultString = \"\";\n    this._data.map((component, i) => {\n      resultString += `${i + 1}: ${component}<br>`;\n    });\n    return resultString;\n  }\n\n  _generateMarkup() {\n    return `\n        <div class=\"preview\">\n        ${this._prettyString()}\n        </div>\n        `;\n  }\n\n  _addHandlerRender(handler) {\n    const options = { attributes: true, childList: true, subtree: true };\n    const observer = new MutationObserver((mutations) =>\n      mutations.forEach((mut) => {\n        if (mut.type === \"attributes\" && mut.attributeName === \"class\") {\n          handler();\n        }\n      })\n    );\n    observer.observe(this._parentElement, options);\n  }\n}\n\nexport default new previewViews();\n","\"use strict\";\nimport * as model from \"./model.js\";\nimport View from \"./views/view.js\";\nimport widgetViews from \"./views/widgetViews.js\";\nimport previewViews from \"./views/previewViews.js\";\n\nconst inputField = document.querySelector(\".section-middle-input\");\n\nconst controlPreview = function () {\n  const data = model.state.componentInfo.partNumber;\n  previewViews.renderSpinner();\n  previewViews.render(data);\n};\n\nconst init = function () {\n  previewViews._addHandlerRender(controlPreview);\n};\n\ninit();\n"],"names":["$f6f66b4e8c0e9ce3$export$8be7e02a2c6592ca","Promise","res","i","elem","document","getElementById","width","id","setInterval","clearInterval","style","setTimeout","$8590f9a69abff0bc$export$cf2eaeaadd36050a","querySelector","$8590f9a69abff0bc$export$aa845670de9ad4b3","$8590f9a69abff0bc$export$d957fd9f812d9cc5","$8590f9a69abff0bc$export$fc86209f8212b04a","$8590f9a69abff0bc$export$778a6dc802eabfb5","$8590f9a69abff0bc$export$ed807d5a72cc196c","$8590f9a69abff0bc$export$2fd39427d2b1f110","$8590f9a69abff0bc$export$af9ff3d239f8b590","classList","add","$8590f9a69abff0bc$export$63269ae6a27f57ab","remove","$c38abc0ebeeb8992$export$c837a8b98c265ae3","componentInfo","$c38abc0ebeeb8992$var$createObj","data","myObject","length","componentData","split","slice","partNumber","$c38abc0ebeeb8992$var$preventDefaults","e","preventDefault","stopPropagation","dataTransfer","effectAllowed","addEventListener","value","submittedData","opacity","items","kind","innerHTML","file","getAsFile","reader","FileReader","onload","e1","target","result","readAsText","this","files","forEach","eventName","event","window","_data","render","markup","_generateMarkup","_clearPreview","_parentElement","insertAdjacentHTML","renderSpinner","_spinnerElement","clearSpinner","$1e932cf6f2684066$export$cc86a3a36832ac65","element","d3","select","append","attr","selectAll","enter","text","d","$c4c72cdc706bdc19$export$9099ad97b570f7c","_btnSubmit","_parentElementId","_parentElementSize","_parentElementYear","_generateSVGmarkup","Array","size","cat","year","_clear","querySelectorAll","textContent","addHandlerRender","handler","$8c35207a14f10035$export$9099ad97b570f7c","_previewElement","_prettyString","resultString","map","component","_addHandlerRender","MutationObserver","mutations","mut","type","attributeName","observe","attributes","childList","subtree","$d704d3480937d0a6$var$controlPreview"],"version":3,"file":"index.0dd564fc.js.map"}