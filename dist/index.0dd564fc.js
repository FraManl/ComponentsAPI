const e=function(){return new Promise((e=>{let t=0;if(0==t){t=1;const e=document.getElementById("myBar");let n=1,r=setInterval((function(){n>=100?(clearInterval(r),t=0):(n++,e.style.width=n+"%")}),10)}setTimeout(e,1100)}))},t=document.querySelector("#drop_zone"),n=document.querySelector("#myProgress"),r=document.querySelector("#myBar"),a=document.querySelector(".query-input-preview"),i=document.querySelector(".btn-submit"),d=document.querySelector(".section-middle-input"),s=document.querySelector("#section-middle-getfile"),o=function(){t.classList.add("highlight")},l=function(){t.classList.remove("highlight")},c={componentInfo:{}},u=function(e){let t;return e.length<=1?({...t}={componentData:e}):({...t}={componentData:e.split("\n").slice(0,-1)}),{partNumber:t.componentData}};function p(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.effectAllowed="All"}i.addEventListener("click",(function(){if(!d.value)return;const e=d.value;n.style.opacity=0,d.value="",c.componentInfo=u([e]),a.classList.add("uploaded")}),!1),t.addEventListener("drop",(async function(t){if(t.preventDefault(),!t.dataTransfer.items)return;const i=t.dataTransfer.items;for(let t=0;t<i.length;t++)if("file"===i[t].kind){n.style.opacity=1,r.classList.remove("uploaded"),r.innerHTML="";const d=i[t].getAsFile(),s=new FileReader;s.onload=function(e){c.componentInfo=u(e.target.result)},s.readAsText(d),await e(),a.classList.add("uploaded"),r.classList.add("uploaded"),r.innerHTML="<p>Loaded!</p>"}}),!1),s.addEventListener("change",(async function(){n.style.opacity=1,r.classList.remove("uploaded"),r.innerHTML="";const t=new FileReader;t.onload=function(e){c.componentInfo=u(e.target.result)},t.readAsText(this.files[0]),await e(),a.classList.add("uploaded"),r.classList.add("uploaded"),r.innerHTML="<p>Uploaded!</p>"}),!1),["dragenter","dragover"].forEach((e=>{t.addEventListener(e,o,!1)})),["dragleave","drop"].forEach((e=>{t.addEventListener(e,l,!1)})),["dragenter","dragover","dragleave","drop"].forEach((e=>{window.addEventListener(e,p,!1)}));class m{_data;render(e){this._data=e;const t=this._generateMarkup();setTimeout((()=>{this._clearPreview(),this._parentElement.insertAdjacentHTML("afterbegin",t)}),700)}renderSpinner(){this._clearPreview(),this._spinnerElement.insertAdjacentHTML("afterbegin",'<div class="loader"></div>'),setTimeout((()=>{this.clearSpinner()}),710)}_clearPreview(){this._parentElement.innerHTML=""}clearSpinner(){this._spinnerElement.innerHTML=""}}const f=function(e,t){d3.select(t).append("svg").attr("width",100).attr("height",30).selectAll("text").data(e).enter().append("text").attr("x",0).attr("y",19).style("fill","black").text((function(e){return e}))};new class extends m{_btnSubmit=document.querySelector(".btn-submit");_parentElement=document.querySelector(".section-middle-widgets");_parentElementId=document.querySelector(".section-widgets-siren");_parentElementSize=document.querySelector(".section-widgets-size");_parentElementYear=document.querySelector(".section-widgets-year");_generateSVGmarkup(){const e=new Array(this._data.id),t=new Array(this._data.size),n=(new Array(this._data.year),new Array(this._data.cat));this._clear(),f(e,this._parentElementId),f(t,this._parentElementSize),f(n,this._parentElementYear)}_clear(){this._parentElement.querySelectorAll(".widget").forEach((e=>e.textContent=""))}addHandlerRender(e){this._btnSubmit.addEventListener("click",(function(t){t.preventDefault(),e()}))}};var y=new class extends m{_parentElement=document.querySelector(".query-input-preview");_previewElement=document.querySelector(".section-middle-dropzone-output");_spinnerElement=document.querySelector(".loader-spinner");_prettyString(){let e="";return this._data.map(((t,n)=>{e+=`${n+1}: ${t}<br>`})),e}_generateMarkup(){return`\n        <div class="preview">\n        ${this._prettyString()}\n        </div>\n        `}_addHandlerRender(e){new MutationObserver((t=>t.forEach((t=>{"attributes"===t.type&&"class"===t.attributeName&&e()})))).observe(this._parentElement,{attributes:!0,childList:!0,subtree:!0})}};document.querySelector(".section-middle-input");const h=function(){const e=c.componentInfo.partNumber;y.renderSpinner(),y.render(e)};y._addHandlerRender(h);
//# sourceMappingURL=index.0dd564fc.js.map
